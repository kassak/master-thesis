%-*-coding: utf-8-*-
\chapter{Тестирование}

Тестирование проводилось на обычном домашнем компьютере
с процессором Intel Core i3, 1.7 GHz. В качестве тестовых
брались две карты черноморского побережья от г.Анапы до г.Новороссийск
масштаба 1 : 200 000.

Также были выбраны характеристики объекта поиска, примерно соответствующие
характеристикам движения человека. А именно
\begin{description}
\item[Скорость движения по шоссе] -- 5 км/ч;
\item[Скорость движения по грунтовой дороге] -- 4.5 км/ч;
\item[Скорость движения по просеке] -- 4 км/ч;
\item[Скорость движения по лесу] -- 2 км/ч;
\item[Скорость движения по кустарнику] -- 3 км/ч;
\item[Скорость движения по полю] -- 4.5 км/ч;
\item[Скорость движения по городским кварталам] -- 5 км/ч;
\item[Скорость движения по площадным водным объектам] -- 0 км/ч;
\item[Скорость движения по линейным водным объектам] -- 0 км/ч.
\end{description}

Также характеристики объекта поиска учитывают линейные реки.
Была введена штрафная функция, запрещающая пересекать широкие
реки и разрешающая пересекать узкие за 10 мин, но если в
месте пересечения реки ее пересекает дорога, то считается, что
там есть мост и штраф не назначается. Обозначим
$G_S$ -- множество типов местностей ребра $S$, $F$, $T$ --
ребра с которого и на которое осуществляется переход,
$L$, $R$ -- множества ребер, инцидентных той же вершине, что и
$F$, $T$, находящихся слева и справа от них.
Штрафы описывались следующим образом:
\begin{description}
\item["река шириной > 20м" $\in G_F \oplus G_T$] -- $\infty$ мин;
\item["река шириной < 20м" $\in G_F \oplus G_T$] -- 5 мин;
\item["река шириной > 20м" $\displaystyle\in \bigcup_{S\in L}G_S \oplus \bigcup_{S\in R}G_S$]
-- $\infty$ мин, если между берегами реки нет дороги, иначе 0;
\item["река шириной < 20м" $\displaystyle\in \bigcup_{S\in L}G_S \oplus \bigcup_{S\in R}G_S$]
-- 5 мин, если между берегами реки нет дороги, иначе 0;
\item[Иначе] -- 0 мин.
\end{description}

Программа запускалась на двух тестовых картах. На
них произвольно выбирались районы, в которых
далее решалась задача построения района поиска.
Время обработки и характеристики районов приведены в таблицах
\ref{tab:pptime1} и \ref{tab:pptime2}.

\FloatBarrier

\begin{table}[ht]
\centering
\renewcommand{\arraystretch}{1.1}
\captionbox{Время пocтроения функции кратчайших расстояний на карте 1
\label{tab:pptime1}
}{
\begin{tabular*}{1.0\textwidth}{@{\extracolsep{\fill}} |r|r|r|r|}

\hline
Площадь района интереса(км\textsuperscript{2}) & кол-во треугольников & кол-во ребер & время обработки(с) \\
\hline
  18 &   4388 &   19655 &   12 \\
  44 &   9980 &   45134 &   44 \\
 124 &  28840 &  131058 &   88 \\
 374 &  88262 &  404056 &  920 \\
1208 & 260104 & 1192990 & 1403 \\
\hline


\end{tabular*}}
\end{table}

\begin{table}[ht]
\centering
\renewcommand{\arraystretch}{1.1}
\captionbox{Время пocтроения функции кратчайших расстояний на карте 2
\label{tab:pptime2}
}{
\begin{tabular*}{1.0\textwidth}{@{\extracolsep{\fill}} |r|r|r|r|}

\hline
Площадь района интереса(км\textsuperscript{2}) & кол-во треугольников & кол-во ребер & время обработки(с) \\
\hline
  45 &   1170 &   5114 &   4 \\
 127 &   3966 &  17709 &  11 \\
 283 &   9122 &  40803 &  21 \\
 808 &  20844 &  94043 &  57 \\
2268 &  45880 & 207452 & 144 \\
\hline

\end{tabular*}}
\end{table}

%\newcolumntype{R}[1]{D{.}{\cdot}{#1} }
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}m{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}m{#1}}
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}m{#1}}

\begin{table}[ht]
\centering
\renewcommand{\arraystretch}{1.1}
\captionbox{Сравнение с алгоритмом, использующим регулярную сетку
\label{tab:comparison1}
}{
\begin{tabular*}{1.0\textwidth}{ |C{4cm}|R{2cm}|R{2cm}|R{2cm}|R{2cm}|}
\cline{1-5}
\hfill& \multicolumn{2}{|C{4cm}|}{\textbf{Предложенный алгоритм}} & \multicolumn{2}{C{4cm}|}{\textbf{Регулярная сетка}} \\

\cline{1-5}
Площадь района интереса & \multicolumn{4}{|R{6cm}|}{16 км\textsuperscript{2}} \\
\cline{1-5}
Время препроцессирования (сек)      & \multicolumn{2}{|R{4cm}|}{0.76} & \multicolumn{2}{R{4cm}|}{1.17}   \\
Среднее подразбиение / Кол-во ячеек & \multicolumn{2}{|R{4cm}|}{14.0} & \multicolumn{2}{R{4cm}|}{640000} \\
\cline{1-5}
Район поиска на время (сек) & Время построения & Кол-во объектов & Время построения & Кол-во объектов \\
\cline{1-5}
160.352m & 0.000743164 &    8 & 0.00372095 &   2905 \\
320.703m & 0.00205351  &  102 & 0.00522751 &   9821 \\
481.055m & 0.00651974  &  400 & 0.00714277 &  20105 \\
641.406m & 0.00762543  &  640 & 0.0125269  &  36443 \\
801.758m & 0.00868886  &  768 & 0.0183096  &  58490 \\
962.109m & 0.0103708   &  948 & 0.0258218  &  85755 \\
1122.46m & 0.0123576   & 1123 & 0.0298992  & 116023 \\
1282.81m & 0.012248    & 1267 & 0.040392   & 148311 \\
1443.16m & 0.0143619   & 1484 & 0.0527094  & 177456 \\
1603.52m & 0.0142351   & 1625 & 0.0565001  & 205488 \\

\cline{1-5}

\end{tabular*}}
\end{table}

%%%%%%%%%%%%%%%%%%

\begin{table}[ht]
\centering
\renewcommand{\arraystretch}{1.1}
\captionbox{Сравнение с алгоритмом, использующим регулярную сетку
\label{tab:comparison2}
}{
\begin{tabular*}{1.0\textwidth}{ |C{4cm}|R{2cm}|R{2cm}|R{2cm}|R{2cm}|}

\cline{1-5}
Площадь района интереса & \multicolumn{4}{|R{6cm}|}{64 км\textsuperscript{2}} \\
\cline{1-5}
Время препроцессирования (сек)      & \multicolumn{2}{|R{4cm}|}{0.76} & \multicolumn{2}{R{4cm}|}{1.17}   \\
Среднее подразбиение / Кол-во ячеек & \multicolumn{2}{|R{4cm}|}{14.0} & \multicolumn{2}{R{4cm}|}{640000} \\
\cline{1-5}
Район поиска на время (сек) & Время построения & Кол-во объектов & Время построения & Кол-во объектов \\
\cline{1-5}
160.352m & 0.000743164 &    8 & 0.00372095 &   2905 \\
320.703m & 0.00205351  &  102 & 0.00522751 &   9821 \\
481.055m & 0.00651974  &  400 & 0.00714277 &  20105 \\
641.406m & 0.00762543  &  640 & 0.0125269  &  36443 \\
801.758m & 0.00868886  &  768 & 0.0183096  &  58490 \\
962.109m & 0.0103708   &  948 & 0.0258218  &  85755 \\
1122.46m & 0.0123576   & 1123 & 0.0298992  & 116023 \\
1282.81m & 0.012248    & 1267 & 0.040392   & 148311 \\
1443.16m & 0.0143619   & 1484 & 0.0527094  & 177456 \\
1603.52m & 0.0142351   & 1625 & 0.0565001  & 205488 \\

\cline{1-5}

\end{tabular*}}
\end{table}

\begin{table}[ht]
\centering
\renewcommand{\arraystretch}{1.1}
\captionbox{Сравнение с алгоритмом, использующим регулярную сетку
\label{tab:comparison3}
}{
\begin{tabular*}{1.0\textwidth}{ |C{4cm}|R{2cm}|R{2cm}|R{2cm}|R{2cm}|}

\cline{1-5}
Площадь района интереса & \multicolumn{4}{|R{6cm}|}{256 км\textsuperscript{2}} \\
\cline{1-5}
Время препроцессирования (сек)      & \multicolumn{2}{|R{4cm}|}{0.76} & \multicolumn{2}{R{4cm}|}{1.17}   \\
Среднее подразбиение / Кол-во ячеек & \multicolumn{2}{|R{4cm}|}{14.0} & \multicolumn{2}{R{4cm}|}{640000} \\
\cline{1-5}
Район поиска на время (сек) & Время построения & Кол-во объектов & Время построения & Кол-во объектов \\
\cline{1-5}
160.352m & 0.000743164 &    8 & 0.00372095 &   2905 \\
320.703m & 0.00205351  &  102 & 0.00522751 &   9821 \\
481.055m & 0.00651974  &  400 & 0.00714277 &  20105 \\
641.406m & 0.00762543  &  640 & 0.0125269  &  36443 \\
801.758m & 0.00868886  &  768 & 0.0183096  &  58490 \\
962.109m & 0.0103708   &  948 & 0.0258218  &  85755 \\
1122.46m & 0.0123576   & 1123 & 0.0298992  & 116023 \\
1282.81m & 0.012248    & 1267 & 0.040392   & 148311 \\
1443.16m & 0.0143619   & 1484 & 0.0527094  & 177456 \\
1603.52m & 0.0142351   & 1625 & 0.0565001  & 205488 \\

\cline{1-5}

\end{tabular*}}
\end{table}

\begin{table}[ht]
\centering
\renewcommand{\arraystretch}{1.1}
\captionbox{Сравнение с алгоритмом, использующим регулярную сетку
\label{tab:comparison4}
}{
\begin{tabular*}{1.0\textwidth}{ |C{4cm}|R{2cm}|R{2cm}|R{2cm}|R{2cm}|}

\cline{1-5}
Площадь района интереса & \multicolumn{4}{|R{6cm}|}{1024 км\textsuperscript{2}} \\
\cline{1-5}
Время препроцессирования (сек)      & \multicolumn{2}{|R{4cm}|}{0.76} & \multicolumn{2}{R{4cm}|}{1.17}   \\
Среднее подразбиение / Кол-во ячеек & \multicolumn{2}{|R{4cm}|}{14.0} & \multicolumn{2}{R{4cm}|}{640000} \\
\cline{1-5}
Район поиска на время (сек) & Время построения & Кол-во объектов & Время построения & Кол-во объектов \\
\cline{1-5}
160.352m & 0.000743164 &    8 & 0.00372095 &   2905 \\
320.703m & 0.00205351  &  102 & 0.00522751 &   9821 \\
481.055m & 0.00651974  &  400 & 0.00714277 &  20105 \\
641.406m & 0.00762543  &  640 & 0.0125269  &  36443 \\
801.758m & 0.00868886  &  768 & 0.0183096  &  58490 \\
962.109m & 0.0103708   &  948 & 0.0258218  &  85755 \\
1122.46m & 0.0123576   & 1123 & 0.0298992  & 116023 \\
1282.81m & 0.012248    & 1267 & 0.040392   & 148311 \\
1443.16m & 0.0143619   & 1484 & 0.0527094  & 177456 \\
1603.52m & 0.0142351   & 1625 & 0.0565001  & 205488 \\

\cline{1-5}

\end{tabular*}}
\end{table}

\FloatBarrier
